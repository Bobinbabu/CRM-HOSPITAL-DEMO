{% extends 'base.html' %}
{% block title %}ticket without content{% endblock %}
{% block content %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/ticket_woc.css' %}">
{% endblock %}

<form  action="" method="post">
  {% csrf_token %}
    <h2>Ticket Form</h2>
    <div class="flex-container">
      <button id="ticketWithoutContactBtn" class="button_" type="button">Ticket without contact</button>
      <div class="form-group">
        <label for="tags">Tags :</label>
        <select  id="tags" name="tags" >
          <option value="online">online</option>
          <option value="offline">offline</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label for="subject">Subject:</label>
      <input type="text" id="subject" name="subject">
    </div>
    <div class="form-group" id="contactDiv">
      <label for="contact">Contact:</label>
      <select id="contact" name="contact">
        <option value="Nothing selected">Nothing selected</option>
      </select>
    </div>
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name">
    </div>
    <div class="form-group">
      <label for="email">Email address:</label>
      <input type="email" id="email" name="email">
    </div>
    <div class="form-group">
      <label for="department">Department:</label>
      <select id="department" name="department">
        <option value="Service Department">Service Department</option>
        <option value="Department 1">Department 1</option>
        <option value="Department 2">Department 2</option>
      </select>
    </div>
    <div class="form-group">
      <label for="cc">CC:</label>
      <input type="text" id="cc" name="cc">
    </div>
    <div class="form-group">
      <label for="assign">Assign ticket:</label>
      <select id="assign" name="assign">
        <option value="Doctosmart CRM">Doctosmart CRM</option>
        <option value="User 1">User 1</option>
        <option value="User 2">User 2</option>
      </select>
    </div>
    <div class="form-group">
      <label for="priority">Priority:</label>
      <select id="priority" name="priority">
        <option value="Medium">Medium</option>
        <option value="High">High</option>
        <option value="Low">Low</option>
      </select>
    </div>
    <div class="form-group">
      <label for="service">Service:</label>
      <select id="service" name="service">
        <option value="Error 404">Error 404</option>
      </select>
    </div>
    <div class="container1">
      <div class="header">Ticket Body</div>
      <div class="form-group">
        <select class="form-select" name="ipr">
          <option value="Insert Predefined Reply">Insert Predefined Reply</option>
          <!-- Add more options as needed -->
        </select>
        <select class="form-select" name="ikbl">
          <option value="Insert Knowledge Base link">Insert Knowledge Base link</option>
          <!-- Add more options as needed -->
        </select>
      </div>
    </div>
    <div class="contents">
      <label for="content">Content:</label>
      <textarea id="content" name="content" placeholder="Enter ticket details here..."></textarea>
    </div>
    <div class="attach">
      <label>Attachments</label>
      <input class="filetype" type="file" name="attach">
    </div>
    <button style="margin-top: 20px;" type="submit">Save</button>
  </form>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Select2 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#contact').select2({
        placeholder: "Select an option"
      });
      $('#tags').select2({
        placeholder: "Select tags",
        tags: true
      });
    });

  
  
    $('#contactDiv').show();
    
    // Toggle contact field visibility and button text
    $('#ticketWithoutContactBtn').click(function() {
      $('#contactDiv').toggle();
      if ($(this).text() === 'Ticket without contact') {
        $(this).text('Ticket with contact');
      } else {
        $(this).text('Ticket without contact');
      }
    });
  
  </script>

{% endblock %}